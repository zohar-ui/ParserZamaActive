{
  "session": {
    "defaultMode": "plan",
    "autoAcceptEdits": false,
    "contextFiles": [
      "agents.md",
      "ARCHITECTURE.md",
      "docs/reference/CANONICAL_JSON_SCHEMA.md",
      ".claude/CLAUDE.md"
    ]
  },
  "permissions": {
    "mode": "ask",
    "allow": [
      "Bash(./scripts/verify_schema_version.sh)",
      "Bash(./scripts/tests/test_parser_accuracy.sh)",
      "Bash(./scripts/tests/validate_golden_set.sh)",
      "Bash(./scripts/tests/test_block_types.sh)",
      "Bash(npm run learn)",
      "Bash(npm run update-docs)",
      "Bash(npm run post-migration)",
      "Bash(git status)",
      "Bash(git diff)",
      "Bash(git add .)",
      "Bash(git commit*)",
      "Bash(git push)",
      "Bash(npx supabase status)",
      "Bash(npx supabase db diff)",
      "Bash(npx supabase db push)"
    ],
    "deny": [
      "Bash(rm -rf*)",
      "Bash(npx supabase db reset)",
      "Bash(DROP TABLE*)",
      "Bash(DELETE FROM zamm.*)"
    ]
  },
  "verification": {
    "autoRunOnEdit": false,
    "requiredBeforeCommit": true,
    "commands": [
      "./scripts/verify_schema_version.sh",
      "./scripts/tests/validate_golden_set.sh",
      "./scripts/tests/test_block_types.sh"
    ]
  },
  "agents": {
    "db-architect": {
      "triggers": ["sql", "migration", "schema", "supabase", "database"],
      "context": [
        "ARCHITECTURE.md",
        "docs/SCHEMA_REFERENCE.md",
        "supabase/migrations/"
      ]
    },
    "parser-engineer": {
      "triggers": ["parser", "regex", "golden set", "canonical", "validation"],
      "context": [
        "docs/reference/CANONICAL_JSON_SCHEMA.md",
        "docs/guides/AI_PROMPTS.md",
        "scripts/tests/parser_patterns.js",
        "data/golden_set/"
      ]
    },
    "learning-specialist": {
      "triggers": ["learning", "corrections", "training", "examples"],
      "context": [
        "scripts/active_learning/ACTIVE_LEARNING_README.md",
        "scripts/active_learning/update_parser_brain.js",
        "docs/reference/CANONICAL_JSON_SCHEMA.md"
      ]
    },
    "golden-set-curator": {
      "triggers": ["golden set", "test case", "validation", "coverage", "quality"],
      "context": [
        "data/golden_set/",
        "docs/reference/CANONICAL_JSON_SCHEMA.md",
        "scripts/validate_golden_set.sh"
      ]
    }
  },
  "git": {
    "preCommitHook": {
      "enabled": true,
      "path": ".git/hooks/pre-commit",
      "runVerify": true
    }
  }
}
